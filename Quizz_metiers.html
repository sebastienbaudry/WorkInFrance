<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar de Comp√©tences & Orientation BTS</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            /* Couleurs ajust√©es pour le contraste */
            --audace: #e74c3c;
            --rigueur: #f39c12; /* Jaune plus fonc√© pour lisibilit√© */
            --empathie: #2ecc71;
            --technique: #9b59b6;
            --data: #e67e22;
            --autonomie: #16a085;
            --organisation: #34495e;
            --light: #ecf0f1;
            --text-muted: #7f8c8d;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1, h2 {
            text-align: center;
            color: var(--primary);
        }

        p.intro {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
            font-size: 1.1em;
        }

        /* L√©gende */
        .legend {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 0.9em;
            border: 1px solid #eee;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
            flex-shrink: 0;
        }

        /* Questions */
        .question-box {
            margin: 20px 0;
            padding: 20px;
            background: var(--light);
            border-radius: 8px;
            border-left: 5px solid var(--accent);
            transition: transform 0.2s;
        }
        
        .question-box:hover {
            transform: translateX(5px);
        }

        .question-label {
            font-weight: 600;
            margin-bottom: 15px;
            display: block;
            cursor: pointer;
            font-size: 1.05em;
        }

        .q-number {
            font-size: 0.75em;
            color: var(--text-muted);
            margin-bottom: 5px;
            display: block;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .range-wrapper {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .range-label {
            font-size: 0.8em;
            color: var(--text-muted);
            width: 80px;
            text-align: center;
            line-height: 1.2;
        }

        input[type="range"] {
            flex-grow: 1;
            height: 8px;
            border-radius: 5px;
            background: #cbd5e0;
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: var(--accent);
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.1s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
        }

        .score-display {
            font-weight: bold;
            font-size: 1.3em;
            width: 40px;
            text-align: center;
            color: var(--accent);
            background: white;
            padding: 5px;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Button */
        .btn-calculate {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 40px auto 0;
            padding: 18px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-calculate:hover {
            background-color: #34495e;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        /* Results */
        #results {
            display: none;
            margin-top: 50px;
            border-top: 2px solid #eee;
            padding-top: 30px;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .profile-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.2s;
        }
        .stat-card:hover { transform: translateY(-3px); }

        .stat-val { 
            font-size: 1.6em; 
            font-weight: 800; 
            display: block; 
            margin-bottom: 2px;
            color: #333;
        }
        .stat-label {
            font-size: 0.8em;
            font-weight: 600;
            color: #777;
            text-transform: uppercase;
        }

        /* Job Cards */
        .job-card {
            background: white;
            border-left: 6px solid #ccc;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.04);
            border-radius: 6px;
        }

        .job-match-high { border-left-color: #2ecc71; } /* Vert */
        .job-match-med { border-left-color: #f1c40f; }  /* Jaune */
        .job-match-low { border-left-color: #e74c3c; }  /* Rouge */

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .job-title {
            font-size: 1.2em;
            color: var(--primary);
            margin: 0;
        }

        .match-badge {
            font-weight: bold;
            font-size: 0.9em;
            color: white;
            background: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
        }
        .job-match-high .match-badge { background: #27ae60; }
        .job-match-med .match-badge { background: #f39c12; }
        .job-match-low .match-badge { background: #c0392b; }

        .bts-tag {
            background-color: #e8f4fd;
            color: #2980b9;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: 600;
            display: inline-block;
            margin-top: 5px;
        }

        .profile-bars {
            display: flex;
            flex-direction: column;
            gap: 8px; /* Espacement l√©g√®rement augment√© pour le marqueur */
            margin-top: 15px;
            font-size: 0.8em;
        }

        .profile-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bar-label {
            width: 85px;
            font-weight: 600;
            color: #555;
        }

        /* MODIFICATION ICI POUR LE MARQUEUR */
        .bar-track {
            flex: 1;
            background: #edf2f7;
            height: 8px;
            border-radius: 4px;
            position: relative; /* N√©cessaire pour positionner le marqueur */
            /* overflow: hidden;  <-- RETIR√â pour que le marqueur d√©passe */
        }

        .bar-fill {
            height: 100%;
            border-radius: 4px;
        }

        /* NOUVEAU STYLE POUR LE MARQUEUR */
        .user-marker {
            position: absolute;
            width: 4px;
            height: 16px; /* Plus grand que la barre pour d√©passer */
            background-color: #2c3e50; /* Couleur sombre pour le contraste */
            top: 50%;
            transform: translate(-50%, -50%); /* Centrage parfait sur le point */
            z-index: 2;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .bar-value {
            width: 35px;
            text-align: right;
            font-weight: 700;
            color: #333;
        }

        @media (max-width: 600px) {
            .container { padding: 20px 15px; }
            .profile-summary { grid-template-columns: repeat(3, 1fr); }
            .stat-val { font-size: 1.2em; }
            .stat-label { font-size: 0.7em; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üéØ Profilage M√©tier & BTS</h1>
    <p class="intro">
        √âvaluez les affirmations suivantes de <strong>0 √† 5</strong>.<br>
        <small>(Il n'y a pas de bonne ou mauvaise r√©ponse, soyez honn√™te !)</small>
    </p>

    <div class="legend">
        <strong>Les 7 dimensions du profil :</strong>
        <div class="legend-grid">
            <div class="legend-item"><div class="legend-color" style="background: var(--audace)"></div><span>Audace</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--rigueur)"></div><span>Rigueur</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--empathie)"></div><span>Empathie</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--technique)"></div><span>Technique</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--data)"></div><span>Data</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--autonomie)"></div><span>Autonomie</span></div>
            <div class="legend-item"><div class="legend-color" style="background: var(--organisation)"></div><span>Organisation</span></div>
        </div>
        <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px; font-size: 0.85em;">
             <span><span style="display:inline-block; width:15px; height:8px; background:#ccc; border-radius:4px;"></span> Profil cible du m√©tier</span>
             <span><span style="display:inline-block; width:4px; height:14px; background:#2c3e50; vertical-align: middle; margin: 0 5px;"></span> Votre score</span>
        </div>
    </div>

    <form id="quizForm">
        <div id="questions-container"></div>
        <button type="button" class="btn-calculate" onclick="calculateResults()">
            Calculer mon Profil
        </button>
    </form>

    <div id="results">
        <h2>Votre Radar de Comp√©tences</h2>
        <p style="text-align:center; color:#666; margin-bottom:20px;">Scores normalis√©s sur 10</p>
        
        <div class="profile-summary">
            <div class="stat-card" style="border-bottom: 4px solid var(--audace)">
                <span class="stat-val" id="score-A">-</span><span class="stat-label">Audace</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--rigueur)">
                <span class="stat-val" id="score-R">-</span><span class="stat-label">Rigueur</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--empathie)">
                <span class="stat-val" id="score-E">-</span><span class="stat-label">Empathie</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--technique)">
                <span class="stat-val" id="score-T">-</span><span class="stat-label">Tech</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--data)">
                <span class="stat-val" id="score-D">-</span><span class="stat-label">Data</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--autonomie)">
                <span class="stat-val" id="score-Au">-</span><span class="stat-label">Auto.</span>
            </div>
            <div class="stat-card" style="border-bottom: 4px solid var(--organisation)">
                <span class="stat-val" id="score-O">-</span><span class="stat-label">Orga.</span>
            </div>
        </div>

        <h2>Top 10 M√©tiers & BTS recommand√©s</h2>
        <div id="jobs-container"></div>
    </div>
</div>

<script>
    // 1. DATA : Questions
    const rawQuestionsData = {
        A: [
            "Aborder un inconnu dans la rue pour lui demander quelque chose ne me fait pas peur.",
            "L'id√©e d'√™tre pay√© √† la commission (variable) me motive plus qu'un salaire fixe.",
            "Prendre la parole en public sans pr√©paration ne me stresse pas.",
            "Je consid√®re qu'un 'Non' n'est pas une fin, mais le d√©but de la n√©gociation.",
            "Je pr√©f√®re un poste risqu√© avec gros gains potentiels qu'un poste p√©p√®re."
        ],
        R: [
            "Je ne supporte pas d'√™tre en retard ou que les choses soient mal rang√©es.",
            "Je lis toujours les petites lignes des contrats avant de signer.",
            "Je pr√©f√®re une t√¢che r√©p√©titive mais claire plut√¥t qu'une mission floue.",
            "Je rep√®re imm√©diatement une faute d'orthographe ou une erreur de calcul.",
            "Si une proc√©dure existe, il est imp√©ratif de la suivre √† la lettre."
        ],
        E: [
            "Je devine facilement quand quelqu'un ne va pas bien, m√™me s'il ne dit rien.",
            "Dans un conflit, je cherche toujours le compromis pour pr√©server l'harmonie.",
            "J'aime √©couter les probl√®mes des gens pour essayer de les aider.",
            "L'ambiance d'√©quipe est plus importante que la performance individuelle.",
            "Je ressens fortement les √©motions des autres (empathie)."
        ],
        T: [
            "Quand j'ach√®te un appareil, je lis le manuel pour comprendre les fonctions.",
            "J'aime comprendre comment les choses fonctionnent techniquement.",
            "Je pr√©f√®re les faits et les preuves logiques aux beaux discours.",
            "J'adore apprendre √† utiliser de nouveaux logiciels complexes.",
            "Je suis √† l'aise avec les outils num√©riques (Excel, Code, Logiciels m√©tier)."
        ],
        D: [
            "Pour d√©cider, je compare syst√©matiquement les chiffres et les prix.",
            "J'aime analyser des graphiques pour comprendre une situation.",
            "Je me fie aux donn√©es concr√®tes plut√¥t qu'√† mon intuition.",
            "Cr√©er des tableaux de bord ou des statistiques me satisfait.",
            "Face √† un argument, je demande souvent : 'Quelles sont les preuves chiffr√©es ?'"
        ],
        Au: [
            "Je travaille mieux seul(e) qu'en groupe o√π il faut se coordonner.",
            "J'aime avoir des objectifs, mais je veux choisir ma m√©thode pour les atteindre.",
            "Je suis plus performant quand personne ne me surveille.",
            "J'aime organiser ma journ√©e de travail en totale autonomie.",
            "Face √† un probl√®me, je cherche d'abord seul avant d'appeler √† l'aide."
        ],
        O: [
            "Je fais des 'To-Do lists' et j'adore cocher les cases.",
            "Je peux g√©rer plusieurs dossiers en m√™me temps sans rien oublier.",
            "Je planifie toujours mes projets √©tape par √©tape.",
            "Mon agenda est mon meilleur alli√©, tout y est not√©.",
            "M√™me sous pression, je reste organis√© et priorise mes t√¢ches."
        ]
    };

// 2. DATA : Matrice M√©tiers (Revue et Corrig√©e : Plus de contraste)
    // Les valeurs basses (1-3) et hautes (8-10) sont accentu√©es pour mieux discriminer.
    const jobsMatrix = [
        // --- COMMERCE & VENTE ---
        { name: "Commercial Terrain (Chasseur)", bts: "BTS NDRC", profile: { A: 10, R: 3, E: 5, T: 2, D: 3, Au: 9, O: 4 } },
        { name: "SDR (Prospection pur)", bts: "BTS NDRC", profile: { A: 10, R: 4, E: 3, T: 5, D: 5, Au: 4, O: 9 } },
        { name: "Technico-Commercial", bts: "BTS CCST", profile: { A: 7, R: 5, E: 6, T: 10, D: 4, Au: 8, O: 6 } },
        { name: "Ing√©nieur Commercial Jr", bts: "BTS CCST", profile: { A: 6, R: 6, E: 5, T: 10, D: 5, Au: 8, O: 7 } },
        { name: "Business Developer", bts: "BTS NDRC / CI", profile: { A: 9, R: 4, E: 6, T: 3, D: 7, Au: 10, O: 5 } },
        { name: "Inside Sales", bts: "BTS NDRC", profile: { A: 8, R: 5, E: 5, T: 6, D: 6, Au: 5, O: 9 } },
        { name: "Animateur des Ventes", bts: "BTS MCO", profile: { A: 8, R: 3, E: 9, T: 2, D: 3, Au: 7, O: 5 } },
        
        // --- RELATION CLIENT & CONSEIL ---
        { name: "Customer Success (CSM)", bts: "BTS NDRC", profile: { A: 3, R: 6, E: 10, T: 6, D: 6, Au: 6, O: 8 } },
        { name: "Charg√© Relation Client", bts: "BTS NDRC / MCO", profile: { A: 2, R: 7, E: 10, T: 4, D: 5, Au: 4, O: 8 } },
        { name: "Conseiller Bancaire", bts: "BTS Banque", profile: { A: 5, R: 9, E: 8, T: 4, D: 8, Au: 5, O: 8 } },
        { name: "Gestionnaire de Patrimoine Jr", bts: "BTS Banque / Assu", profile: { A: 5, R: 9, E: 7, T: 5, D: 9, Au: 6, O: 9 } },
        { name: "Courtier en Assurance", bts: "BTS Assurance", profile: { A: 8, R: 6, E: 6, T: 4, D: 6, Au: 9, O: 7 } },
        { name: "N√©gociateur Immobilier", bts: "BTS Prof. Immo", profile: { A: 9, R: 5, E: 8, T: 2, D: 4, Au: 9, O: 6 } },
        { name: "Responsable SAV", bts: "BTS MCO / CCST", profile: { A: 3, R: 6, E: 9, T: 9, D: 5, Au: 6, O: 8 } },

        // --- GESTION, ORGANISATION & LOGISTIQUE ---
        { name: "Agent de Transit", bts: "BTS GTLA", profile: { A: 2, R: 10, E: 2, T: 7, D: 6, Au: 4, O: 10 } },
        { name: "Charg√© d'Affaires Logistique", bts: "BTS GTLA", profile: { A: 6, R: 8, E: 4, T: 7, D: 8, Au: 7, O: 10 } },
        { name: "Gestionnaire ADV", bts: "BTS NDRC / GTLA", profile: { A: 1, R: 10, E: 5, T: 5, D: 7, Au: 3, O: 10 } },
        { name: "Assistant Export", bts: "BTS CI", profile: { A: 3, R: 9, E: 4, T: 5, D: 6, Au: 4, O: 10 } },
        { name: "Acheteur Junior", bts: "BTS MCO / NDRC", profile: { A: 7, R: 8, E: 3, T: 4, D: 9, Au: 7, O: 9 } },

        // --- RETAIL & DISTRIBUTION ---
        { name: "Manager de Rayon", bts: "BTS MCO", profile: { A: 6, R: 7, E: 7, T: 3, D: 8, Au: 6, O: 9 } },
        { name: "Merchandiser", bts: "BTS MCO", profile: { A: 4, R: 8, E: 2, T: 4, D: 7, Au: 6, O: 9 } },
        
        // --- MARKETING & DIGITAL ---
        { name: "Charg√© Client√®le E-commerce", bts: "BTS MCO / NDRC", profile: { A: 3, R: 6, E: 7, T: 8, D: 7, Au: 6, O: 7 } },
        { name: "Trade Marketeur", bts: "BTS MCO / NDRC", profile: { A: 5, R: 7, E: 4, T: 5, D: 9, Au: 6, O: 8 } },
        { name: "Category Manager Jr", bts: "BTS MCO", profile: { A: 5, R: 8, E: 3, T: 5, D: 10, Au: 7, O: 9 } },
		
        // --- SUPPORT, GESTION & RH (BTS SAM / GPME) ---
        // Profil : Tr√®s Organis√©, Empathique (service interne), Rigoureux, mais moins "Audacieux" que les commerciaux.
        { name: "Office Manager / Assistant RH", bts: "BTS SAM / GPME", profile: { A: 3, R: 8, E: 8, T: 4, D: 4, Au: 7, O: 10 } },
        { name: "Assistant de Direction", bts: "BTS SAM", profile: { A: 4, R: 9, E: 7, T: 4, D: 3, Au: 6, O: 10 } },

        // --- COMPTABILIT√â & GESTION (BTS CG) ---
        // Profil : Le summum de la Rigueur et de la Data. Empathie et Audace faibles.
        { name: "Comptable Unique / Gestionnaire", bts: "BTS CG", profile: { A: 1, R: 10, E: 2, T: 5, D: 10, Au: 6, O: 8 } },

        // --- COMMUNICATION (BTS COM) ---
        // Profil : Empathie (comprendre la cible), Organisation (√©v√©nementiel), et un peu de Technique (outils cr√©a).
        { name: "Charg√© de Communication Jr", bts: "BTS Communication", profile: { A: 6, R: 5, E: 9, T: 6, D: 3, Au: 7, O: 8 } },

        // --- TOURISME (BTS TOURISME) ---
        // Profil : Tr√®s fort en Empathie et Organisation. Audace moyenne (vente soft).
        { name: "Conseiller Voyages / Forfaitiste", bts: "BTS Tourisme", profile: { A: 5, R: 7, E: 10, T: 4, D: 4, Au: 5, O: 9 } },

        // --- INFORMATIQUE (BTS SIO) ---
        // Profil : Technique et Autonomie maximales. Rigueur pour le code. Empathie souvent plus basse.
        { name: "D√©veloppeur Web / App", bts: "BTS SIO (SLAM)", profile: { A: 3, R: 8, E: 2, T: 10, D: 6, Au: 9, O: 5 } },
        { name: "Administrateur R√©seaux", bts: "BTS SIO (SISR)", profile: { A: 2, R: 9, E: 3, T: 10, D: 5, Au: 7, O: 6 } }
    ];

    // 3. INIT : M√©lange et Affichage
    let allQuestions = [];
    const questionsCount = {};

    for (const [axis, questions] of Object.entries(rawQuestionsData)) {
        questionsCount[axis] = questions.length;
        questions.forEach(q => {
            allQuestions.push({ text: q, axis: axis });
        });
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    allQuestions = shuffleArray(allQuestions);

    const container = document.getElementById('questions-container');
    
    allQuestions.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'question-box';
        const inputId = `q-${index}`;
        
        div.innerHTML = `
            <span class="q-number">Question ${index + 1} / ${allQuestions.length}</span>
            <label class="question-label" for="${inputId}">${item.text}</label>
            <div class="range-wrapper">
                <span class="range-label">Pas du tout d'accord</span>
                <input type="range" id="${inputId}" min="0" max="5" value="2" class="q-input" data-axis="${item.axis}" 
                       oninput="this.nextElementSibling.innerText = this.value">
                <span class="score-display">2</span>
                <span class="range-label">Tout √† fait d'accord</span>
            </div>
        `;
        container.appendChild(div);
    });

    // 4. LOGIQUE DE CALCUL
    function calculateResults() {
        const inputs = document.querySelectorAll('.q-input');
        let rawScores = { A: 0, R: 0, E: 0, T: 0, D: 0, Au: 0, O: 0 };
        
        inputs.forEach(input => {
            rawScores[input.dataset.axis] += parseInt(input.value);
        });

        let finalScores = {};
        for (let key in rawScores) {
            let maxPossible = questionsCount[key] * 5;
            finalScores[key] = ((rawScores[key] / maxPossible) * 10).toFixed(1);
        }

        document.getElementById('score-A').innerText = finalScores.A;
        document.getElementById('score-R').innerText = finalScores.R;
        document.getElementById('score-E').innerText = finalScores.E;
        document.getElementById('score-T').innerText = finalScores.T;
        document.getElementById('score-D').innerText = finalScores.D;
        document.getElementById('score-Au').innerText = finalScores.Au;
        document.getElementById('score-O').innerText = finalScores.O;

        // Logique de Matching Quadratique (Contrast√©e)
        let results = jobsMatrix.map(job => {
            let totalPenalty = 0;
            const dims = ['A','R','E','T','D','Au','O'];
            
            dims.forEach(d => {
                let diff = parseFloat(finalScores[d]) - job.profile[d];
                totalPenalty += (diff * diff); 
            });
            
            let matchPercentage = 100 - (totalPenalty / 1.2);
            matchPercentage = Math.max(0, matchPercentage);

            return {
                name: job.name,
                bts: job.bts,
                match: Math.round(matchPercentage),
                profile: job.profile
            };
        });

        results.sort((a, b) => b.match - a.match);
        const topJobs = results.slice(0, 10);

        const jobsContainer = document.getElementById('jobs-container');
        jobsContainer.innerHTML = "";
        const fragment = document.createDocumentFragment();

        const dimensionsDef = {
            A: { name: 'Audace', color: 'var(--audace)' },
            R: { name: 'Rigueur', color: 'var(--rigueur)' },
            E: { name: 'Empathie', color: 'var(--empathie)' },
            T: { name: 'Technique', color: 'var(--technique)' },
            D: { name: 'Data', color: 'var(--data)' },
            Au: { name: 'Autonomie', color: 'var(--autonomie)' },
            O: { name: 'Organisation', color: 'var(--organisation)' }
        };

        topJobs.forEach((res, index) => {
            let matchClass = "job-match-low";
            if (res.match > 85) matchClass = "job-match-high"; 
            else if (res.match > 60) matchClass = "job-match-med";

            const card = document.createElement('div');
            card.className = `job-card ${matchClass}`;
            
            let barsHtml = "";
            for (let [k, dim] of Object.entries(dimensionsDef)) {
                let jobWidth = res.profile[k] * 10; // Largeur de la barre m√©tier
                
                // MODIFICATION ICI : R√©cup√©ration du score utilisateur et positionnement
                let userScore = parseFloat(finalScores[k]);
                let userPosition = userScore * 10; // Position en %

                barsHtml += `
                    <div class="profile-bar">
                        <span class="bar-label">${dim.name}</span>
                        <div class="bar-track">
                            <div class="bar-fill" style="width: ${jobWidth}%; background: ${dim.color}; opacity: 0.6;"></div>
                            <div class="user-marker" style="left: ${userPosition}%;" title="Votre score : ${userScore}/10"></div>
                        </div>
                        <span class="bar-value">${res.profile[k]}</span>
                    </div>
                `;
            }

            card.innerHTML = `
                <div class="job-header">
                    <div>
                        <h3 class="job-title">${index + 1}. ${res.name}</h3>
                        <span class="bts-tag">${res.bts}</span>
                    </div>
                    <span class="match-badge">${res.match}% Match</span>
                </div>
                <div class="profile-bars">
                    ${barsHtml}
                </div>
            `;
            fragment.appendChild(card);
        });

        jobsContainer.appendChild(fragment);

        const resultsSection = document.getElementById('results');
        resultsSection.style.display = 'block';
        setTimeout(() => {
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }, 100);
    }
</script>

</body>
</html>
